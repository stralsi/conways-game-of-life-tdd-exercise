<html>
<head>
	<title>Conway's game of life</title>
</head>
<body onLoad="setup();" background="#cccccc">
	<canvas id="containerCanvas" />
	<script type="text/javascript" src="ConwaysGameOfLife.js"></script>
	<script type="text/javascript">
		
		var cellSize = 5;
		var visibleUniverse = 100;
		containerCanvas.width = cellSize * visibleUniverse;
		containerCanvas.height = cellSize * visibleUniverse;

		var universe;
		function setup(){
			this.universe = new Universe(createGlider());
			draw();			
			setInterval(draw,100);
		}

		function draw(){
			context = containerCanvas.getContext('2d');
			context.clearRect ( 0 , 0 , containerCanvas.width , containerCanvas.height );
			context.fillStyle = "rgba(100,100,0,0.5)";
			var halfUniverse = Math.floor(visibleUniverse/2);
			for (var cellX = -halfUniverse; cellX < halfUniverse; cellX++){
				for(var cellY = -halfUniverse; cellY < halfUniverse; cellY++){
					if(this.universe.hasLife(cellX,cellY)){
						var canvasX = cellX * cellSize + containerCanvas.width/2;
						var canvasY = cellY * cellSize + containerCanvas.height/2;
						context.fillRect(canvasX,canvasY,cellSize,cellSize);
					}
				}
			};
			universe.tick();
		}

		function createGlider(){
			// O
			//  O
			//OOO
			return [[0,0],[1,0],[2,0],[2,-1],[1,-2]]
		}
	</script>
</body>
</html>